@page "/PlayVideo/{PFileName}"
@inject Microsoft.AspNetCore.Components.NavigationManager NavMan
@using Microsoft.AspNetCore.Http
@using System.IO;
@namespace FileManager.Pages
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers


<video controls autoplay style="width:100%;height:100%;" >
    @{
        string filePath = Uri.UnescapeDataString(HttpContext.Request.QueryString.Value);
        string fpSub = "/OpenStream/" + System.IO.Path.GetFileName(filePath).Trim('"') + filePath;
    }
    <source src="@("/OpenVideoStream/" +  System.IO.Path.GetFileName(filePath).Trim('"') + filePath )" type="video/mp4">
    <track label="Default" kind="subtitles" lang="en" src="@fpSub.Replace(".mp4",".srt")"/>
    Your browser does not support the video tag.
</video>


@{
    //[Parameter] string PFileName ;
}